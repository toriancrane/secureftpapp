!function(e){var o={};function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n.w={},n(n.s=13)}([function(e,o){e.exports=require("express")},function(e,o){e.exports=require("node-fetch")},function(e,o,n){var t=n(0).Router();e.exports=t},function(e,o,n){var t=n(0).Router();t.get("/folders",function(e,o,n){o.render("folders")}),e.exports=t},function(e,o,n){var t=n(0).Router();e.exports=t},function(e,o,n){var t=n(0).Router();e.exports=t},function(e,o){e.exports=require("amazon-cognito-identity-js")},function(e,o){e.exports=require("aws-sdk")},function(e,o,n){var t=n(0).Router(),r=n(7),s=n(6);s.CognitoUserPool;t.get("/",function(e,o,n){o.render("index",{title:"SecureFTP"})}),t.post("/",function(e,o){var n=e.body.username,t={Username:n,Password:e.body.password},u=new s.AuthenticationDetails(t),i={Username:n,Pool:new s.CognitoUserPool({UserPoolId:"us-west-2_sFuJmXBam",ClientId:"7v3io0egl88bujb261ecdjiubn"})},c=new s.CognitoUser(i);c.authenticateUser(u,{onSuccess:function(e){r.config.region="us-west-2",r.config.credentials=new r.CognitoIdentityCredentials({IdentityPoolId:"us-west-2:e58465a5-5e9a-4842-a27d-693c5bde4553",Logins:{"cognito-idp.us-west-2.amazonaws.com/us-west-2_sFuJmXBam":e.getIdToken().getJwtToken()}}),r.config.credentials.refresh(e=>{e?console.error(e):console.log("Successfully logged!")})},newPasswordRequired:function(o,n){delete o.email_verified;var t=e.body.new_password;c.completeNewPasswordChallenge(t,o,this)},onFailure:function(e){console.log(e),console.log((new Error).stack)}})}),e.exports=t},function(e,o){e.exports=require("morgan")},function(e,o){e.exports=require("cookie-parser")},function(e,o){e.exports=require("path")},function(e,o){e.exports=require("http-errors")},function(e,o,n){(function(o){var t=n(12),r=n(0),s=n(11),u=n(10),i=n(9),c=n(8),a=n(5),l=n(4),d=n(3),f=n(2);global.fetch=n(1);var p=r();p.set("views",s.join(o,"views")),p.set("view engine","hbs"),p.use(i("dev")),p.use(r.json()),p.use(r.urlencoded({extended:!1})),p.use(u()),p.use(r.static(s.join(o,"public"))),p.use("/",c),p.use("/signup",a),p.use("/folders",d),p.use("/changepass",l),p.use("/logout",f),p.use(function(e,o,n){n(t(404))}),p.use(function(e,o,n,t){n.locals.message=e.message,n.locals.error="development"===o.app.get("env")?e:{},n.status(e.status||500),n.render("error")}),e.exports=p}).call(this,"/")}]);